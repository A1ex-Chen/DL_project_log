def _force_token_ids_generation(self, scores, token_ids) ->None:
    """force one of token_ids to be generated by setting prob of all other tokens to 0"""
    if isinstance(token_ids, int):
        token_ids = [token_ids]
    all_but_token_ids_mask = torch.tensor([x for x in range(self.config.
        tgt_vocab_size) if x not in token_ids], dtype=torch.long, device=
        next(self.parameters()).device)
    assert len(scores.shape
        ) == 2, 'scores should be of rank 2 with shape: [batch_size, vocab_size]'
    scores[:, all_but_token_ids_mask] = -float('inf')
