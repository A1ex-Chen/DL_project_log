def test_cache_cyclical(self):
    cache = lru.LRUCache(max_size=3)
    cache.add(1, 1)
    cache.add(2, 2)
    cache.add(3, 3)
    cache.add(4, 4)
    cache.add(5, 5)
    cache.add(6, 6)
    self.assertIsNone(cache.query(1))
    self.assertIsNone(cache.query(2))
    self.assertIsNone(cache.query(3))
    self.assertEqual(cache.query(4), 4)
    self.assertEqual(cache.query(5), 5)
    self.assertEqual(cache.query(6), 6)
    self.assertEqual(len(cache._cache_by_key), 3)
    self.assertEqual(cache._cache_by_use.size, 3)
